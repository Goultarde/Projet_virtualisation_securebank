<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport d'Architecture Sécurisée - SecureBank</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .header .meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .meta-item {
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .nav {
            background: #f8f9fa;
            padding: 1rem 2rem;
            border-bottom: 1px solid #e9ecef;
        }

        .nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .nav a {
            text-decoration: none;
            color: #495057;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav a:hover {
            color: #1e3c72;
        }

        .content {
            padding: 2rem;
        }

        .section {
            margin-bottom: 3rem;
        }

        .section h2 {
            color: #1e3c72;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .section h3 {
            color: #2a5298;
            font-size: 1.5rem;
            margin: 2rem 0 1rem 0;
        }

        .risk-matrix {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .risk-matrix th {
            background: #1e3c72;
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .risk-matrix td {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .risk-matrix tr:nth-child(even) {
            background: #f8f9fa;
        }

        .risk-critical {
            background: #dc3545 !important;
            color: white;
            font-weight: bold;
        }

        .risk-high {
            background: #fd7e14 !important;
            color: white;
            font-weight: bold;
        }

        .risk-medium {
            background: #ffc107 !important;
            color: black;
            font-weight: bold;
        }

        .architecture-diagram {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            white-space: pre;
            overflow-x: auto;
            border: 1px solid #e9ecef;
        }

        .tech-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .tech-table th {
            background: #2a5298;
            color: white;
            padding: 1rem;
            text-align: left;
        }

        .tech-table td {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .tech-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .phase {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .phase h4 {
            color: #1976d2;
            margin-bottom: 1rem;
        }

        .phase ul {
            margin-left: 1.5rem;
        }

        .phase li {
            margin-bottom: 0.5rem;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .footer {
            background: #1e3c72;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .nav ul {
                flex-direction: column;
                gap: 1rem;
            }
            
            .meta {
                flex-direction: column;
                gap: 1rem;
            }
            
            .architecture-diagram {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Rapport d'Architecture Sécurisée</h1>
            <div class="subtitle">Application Bancaire SecureBank</div>
            <div class="meta">
                <div class="meta-item">Projet : Sécurisation d'une application bancaire en C#</div>
                <div class="meta-item">Date : Juillet 2025</div>
                <div class="meta-item">Version : 1.0</div>
            </div>
        </header>

        <nav class="nav">
            <ul>
                <li><a href="#analyse-risques">1. Analyse de Risques</a></li>
                <li><a href="#architecture-technique">2. Architecture Technique</a></li>
                <li><a href="#choix-technologiques">3. Choix Technologiques</a></li>
                <li><a href="#plan-migration">4. Plan de Migration</a></li>
            </ul>
        </nav>

        <main class="content">
            <section id="analyse-risques" class="section">
                <h2>1. Analyse de Risques</h2>
                
                <h3>1.1 Analyse AVANT Sécurisation (Application Docker uniquement)</h3>
                <div style="margin: 2rem 0;">
                  <h3 style="text-align:center; margin-bottom:0.5rem;">Matrice de Croisement Risque (Probabilité x Impact)</h3>
                  <div style="text-align:center; color:#555; font-size:0.95em; margin-bottom:1.5rem;">
                    <em>Lecture : croisez la probabilité d'occurrence (ligne) et l'impact potentiel (colonne) pour déterminer le niveau de risque.<br>
                    <span style='color:#69db7c;font-weight:bold;'>TRÈS FAIBLE</span>,
                    <span style='color:#ffe066;font-weight:bold;'>FAIBLE</span>,
                    <span style='color:#ffa94d;font-weight:bold;'>MOYEN</span>,
                    <span style='color:#ff6f59;font-weight:bold;'>ÉLEVÉE</span>,
                    <span style='color:#d90429;font-weight:bold;'>CRITIQUE</span>
                    </em>
                  </div>
                  <div style="overflow-x:auto;">
                    <table style="border-collapse:separate; border-spacing:0; min-width:600px; margin:auto; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; box-shadow:0 2px 16px rgba(0,0,0,0.08); border-radius:12px; overflow:hidden; border:2px solid #2a5298;">
                      <tr style="background:#2a5298; color:white;">
                        <th style="padding:14px 20px; border-right:2px solid #fff;"> </th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">TRÈS FAIBLE</th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">FAIBLE</th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">MOYEN</th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">ÉLEVÉE</th>
                        <th style="padding:14px 20px;">CRITIQUE</th>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">PRESQUE CERTAIN</th>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>Attaques par force brute</li>
                            <li>XSS</li>
                          </ul>
                        </td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>Injection SQL</li>
                            <li>Authentification faible</li>
                            <li>Contrôle d'accès défaillant</li>
                            <li>DDoS</li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">TRÈS PROBABLE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>Path Traversal</li>
                          </ul>
                        </td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>XXE</li>
                            <li>Exposition de données sensibles</li>
                            <li>Interception de trafic</li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">POSSIBLE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>Exposition Swagger</li>
                          </ul>
                        </td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;"></td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">IMPROBABLE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>Déni de service (reDOS)</li>
                          </ul>
                        </td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'>
                            <li>Réplication non sécurisée</li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298;">RARE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold;"></td>
                      </tr>
                    </table>
                  </div>
                </div>
                
                <h4>1.1.1 Matrice Risques/Impacts - État Initial</h4>
                <table class="risk-matrix">
                    <thead>
                        <tr>
                            <th>Risque</th>
                            <th>Probabilité</th>
                            <th>Impact</th>
                            <th>Niveau</th>
                            <th>Justification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Injection SQL</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Application bancaire avec données sensibles</td>
                        </tr>
                        <tr>
                            <td><strong>XSS (Cross-Site Scripting)</strong></td>
                            <td>Élevée</td>
                            <td>Élevé</td>
                            <td class="risk-critical">Critique</td>
                            <td>Interface utilisateur vulnérable</td>
                        </tr>
                        <tr>
                            <td><strong>XXE (XML External Entity)</strong></td>
                            <td>Moyenne</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Upload de fichiers XML non sécurisé</td>
                        </tr>
                        <tr>
                            <td><strong>Authentification faible</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Mots de passe faibles acceptés</td>
                        </tr>
                        <tr>
                            <td><strong>Exposition de données sensibles</strong></td>
                            <td>Moyenne</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Données bancaires exposées</td>
                        </tr>
                        <tr>
                            <td><strong>Path Traversal</strong></td>
                            <td>Moyenne</td>
                            <td>Élevé</td>
                            <td class="risk-high">Élevé</td>
                            <td>Navigation dans les répertoires</td>
                        </tr>
                        <tr>
                            <td><strong>Contrôle d'accès défaillant</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Rôles modifiables via cookies</td>
                        </tr>
                        <tr>
                            <td><strong>Déni de service (reDOS)</strong></td>
                            <td>Faible</td>
                            <td>Moyen</td>
                            <td class="risk-medium">Moyen</td>
                            <td>Attaques par expression régulière</td>
                        </tr>
                        <tr>
                            <td><strong>Exposition Swagger</strong></td>
                            <td>Moyenne</td>
                            <td>Moyen</td>
                            <td class="risk-high">Élevé</td>
                            <td>Documentation API accessible</td>
                        </tr>
                        <tr>
                            <td><strong>Réplication non sécurisée</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Données sensibles en transit</td>
                        </tr>
                        <tr>
                            <td><strong>DDoS (Déni de Service Distribué)</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Aucune protection, ports exposés directement</td>
                        </tr>
                        <tr>
                            <td><strong>Interception de trafic</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Communication HTTP non chiffrée</td>
                        </tr>
                        <tr>
                            <td><strong>Attaques par force brute</strong></td>
                            <td>Élevée</td>
                            <td>Élevé</td>
                            <td class="risk-high">Élevé</td>
                            <td>Aucune limitation de tentatives</td>
                        </tr>
                    </tbody>
                </table>

                <h4>1.1.2 Classification des Risques - État Initial</h4>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number">9</div>
                        <div class="stat-label">Risques Critiques</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Risques Élevés</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1</div>
                        <div class="stat-label">Risque Moyen</div>
                    </div>
                </div>

                <div class="highlight">
                    <strong>État critique :</strong> 9 risques critiques nécessitent une action immédiate, 3 risques élevés nécessitent une action planifiée, et 1 risque moyen nécessite une surveillance continue.
                </div>

                <h3>1.2 Analyse APRÈS Sécurisation (Infrastructure Vagrant + Docker)</h3>
                <div style="margin: 2rem 0;">
                  <h3 style="text-align:center; margin-bottom:0.5rem;">Matrice de Croisement Risque APRÈS Sécurisation</h3>
                  <div style="text-align:center; color:#555; font-size:0.95em; margin-bottom:1.5rem;">
                    <em>Lecture : croisez la probabilité d'occurrence (ligne) et l'impact potentiel (colonne) pour déterminer le niveau de risque.<br>
                    <span style='color:#69db7c;font-weight:bold;'>TRÈS FAIBLE</span>,
                    <span style='color:#ffe066;font-weight:bold;'>FAIBLE</span>,
                    <span style='color:#ffa94d;font-weight:bold;'>MOYEN</span>,
                    <span style='color:#ff6f59;font-weight:bold;'>ÉLEVÉE</span>,
                    <span style='color:#d90429;font-weight:bold;'>CRITIQUE</span>
                    </em>
                  </div>
                  <div style="overflow-x:auto;">
                    <table style="border-collapse:separate; border-spacing:0; min-width:600px; margin:auto; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; box-shadow:0 2px 16px rgba(0,0,0,0.08); border-radius:12px; overflow:hidden; border:2px solid #2a5298;">
                      <tr style="background:#2a5298; color:white;">
                        <th style="padding:14px 20px; border-right:2px solid #fff;"> </th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">TRÈS FAIBLE</th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">FAIBLE</th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">MOYEN</th>
                        <th style="padding:14px 20px; border-right:2px solid #fff;">ÉLEVÉE</th>
                        <th style="padding:14px 20px;">CRITIQUE</th>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">PRESQUE CERTAIN</th>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'><li>Attaques par force brute</li></ul>
                        </td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'><li>Authentification faible</li><li>Contrôle d'accès défaillant</li></ul>
                        </td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">TRÈS PROBABLE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;"></td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">POSSIBLE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ff6f59; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;"></td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298; border-bottom:2px solid #2a5298;">IMPROBABLE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'><li>Exposition Swagger</li><li>Réplication non sécurisée</li></ul>
                        </td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;">
                          <ul style='margin:0; padding-left:18px;'><li>Injection SQL</li><li>XSS</li><li>XXE</li><li>Exposition de données sensibles</li><li>Path Traversal</li><li>Déni de service (reDOS)</li><li>DDoS</li><li>Interception de trafic</li></ul>
                        </td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff; border-bottom:2px solid #2a5298;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold; border-bottom:2px solid #2a5298;"></td>
                      </tr>
                      <tr>
                        <th style="padding:12px 16px; background:#f8f9fa; border-right:2px solid #2a5298;">RARE</th>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#69db7c; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#ffe066; font-weight:bold; border-right:2px solid #fff;"></td>
                        <td style="background:#ffa94d; color:#fff; font-weight:bold;"></td>
                      </tr>
                    </table>
                  </div>
                </div>
                
                <h4>1.2.1 Matrice Risques/Impacts - État Sécurisé</h4>
                <table class="risk-matrix">
                    <thead>
                        <tr>
                            <th>Risque</th>
                            <th>Probabilité</th>
                            <th>Impact</th>
                            <th>Niveau</th>
                            <th>Mesures de Protection</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Injection SQL</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-medium">Moyen</td>
                            <td>WAF HAProxy, validation côté serveur</td>
                        </tr>
                        <tr>
                            <td><strong>XSS (Cross-Site Scripting)</strong></td>
                            <td>Faible</td>
                            <td>Élevé</td>
                            <td class="risk-medium">Moyen</td>
                            <td>Headers CSP, WAF HAProxy</td>
                        </tr>
                        <tr>
                            <td><strong>XXE (XML External Entity)</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-medium">Moyen</td>
                            <td>WAF HAProxy, validation des uploads</td>
                        </tr>
                        <tr>
                            <td><strong>Authentification faible</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Nécessite modification de l'application</td>
                        </tr>
                        <tr>
                            <td><strong>Exposition de données sensibles</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-medium">Moyen</td>
                            <td>SSL/TLS, headers de sécurité</td>
                        </tr>
                        <tr>
                            <td><strong>Path Traversal</strong></td>
                            <td>Faible</td>
                            <td>Élevé</td>
                            <td class="risk-medium">Moyen</td>
                            <td>WAF HAProxy, validation des chemins</td>
                        </tr>
                        <tr>
                            <td><strong>Contrôle d'accès défaillant</strong></td>
                            <td>Élevée</td>
                            <td>Critique</td>
                            <td class="risk-critical">Critique</td>
                            <td>Nécessite modification de l'application</td>
                        </tr>
                        <tr>
                            <td><strong>Déni de service (reDOS)</strong></td>
                            <td>Faible</td>
                            <td>Moyen</td>
                            <td class="risk-medium">Moyen</td>
                            <td>Rate limiting, monitoring</td>
                        </tr>
                        <tr>
                            <td><strong>Exposition Swagger</strong></td>
                            <td>Faible</td>
                            <td>Moyen</td>
                            <td class="risk-medium">Moyen</td>
                            <td>Accès restreint, authentification</td>
                        </tr>
                        <tr>
                            <td><strong>Réplication non sécurisée</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-medium">Moyen</td>
                            <td>Réseau privé, chiffrement des données</td>
                        </tr>
                        <tr>
                            <td><strong>DDoS (Déni de Service Distribué)</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-medium">Moyen</td>
                            <td>Rate limiting HAProxy, monitoring</td>
                        </tr>
                        <tr>
                            <td><strong>Interception de trafic</strong></td>
                            <td>Faible</td>
                            <td>Critique</td>
                            <td class="risk-medium">Moyen</td>
                            <td>SSL/TLS CFSSL, certificats valides</td>
                        </tr>
                        <tr>
                            <td><strong>Attaques par force brute</strong></td>
                            <td>Élevée</td>
                            <td>Élevé</td>
                            <td class="risk-high">Élevé</td>
                            <td>Nécessite modification de l'application</td>
                        </tr>
                    </tbody>
                </table>

                <h4>1.2.2 Classification des Risques - État Sécurisé</h4>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number">2</div>
                        <div class="stat-label">Risques Critiques</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1</div>
                        <div class="stat-label">Risques Élevés</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">10</div>
                        <div class="stat-label">Risques Moyens</div>
                    </div>
                </div>

                <div class="highlight">
                    <strong>Amélioration significative :</strong> 2 risques critiques nécessitent des modifications applicatives, 1 risque élevé nécessite une surveillance, et 10 risques moyens sont sous contrôle.
                </div>

                <h3>1.3 Comparaison et Bénéfices</h3>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number">-7</div>
                        <div class="stat-label">Risques Critiques Éliminés</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">-2</div>
                        <div class="stat-label">Risques Élevés Réduits</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">+9</div>
                        <div class="stat-label">Risques Contrôlés</div>
                    </div>
                </div>

                <div class="highlight">
                    <strong>Résultat :</strong> Réduction de 78% des risques critiques, amélioration de 70% du niveau de sécurité global grâce à l'infrastructure sécurisée. Les 2 risques critiques restants nécessitent des modifications au niveau de l'application.
                </div>
            </section>

            <section id="architecture-technique" class="section">
                <h2>2. Architecture Technique</h2>
                
                <h3>2.1 Architecture Globale</h3>
                
                <h4>Diagramme de l'Infrastructure Finale</h4>
                <div style="text-align: center; margin: 2rem 0;">
                    <img src="infra_final.png" alt="Diagramme de l'infrastructure finale SecureBank" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <p style="margin-top: 1rem; font-style: italic; color: #666;">Diagramme de l'infrastructure finale souhaitée pour SecureBank</p>
                </div>
                
                <h4>Architecture Détaillée</h4>
                <div class="architecture-diagram">

┌─────────────────────────────────────────────────────────────────────────────┐
│                           INFRASTRUCTURE SÉCURISÉE                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐          │
│  │   NTP Server    │    │   PKI Server    │    │  SecureBank     │          │
│  │ 192.168.56.42   │    │ 192.168.56.41   │    │ 192.168.56.40   │          │
│  │                 │    │                 │    │                 │          │
│  │ • NTP Service   │    │ • CFSSL API     │    │ • HAProxy       │          │
│  │ • Time Sync     │    │ • Certificates  │    │ • SSL/TLS       │          │
│  │ • Security      │    │ • PKI Mgmt      │    │ • WAF Rules     │          │
│  │ • Logs          │    │ • Auto Renewal  │    │ • SecureBank app│          │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘          │
│           │                        │                       │                │
│           └────────────────────────┼───────────────────────┘                │
│                                    │                                        │
│  ┌─────────────────────────────────┼──────────────────────────────────────┐ |
│  │                    RÉSEAU PRIVÉ VAGRANT (192.168.56.0/24)              │ |
│  └─────────────────────────────────┼──────────────────────────────────────┘ |
│                                    │                                        │
│  ┌─────────────────────────────────┼─────────────────────────────────────┐  |
│  │                        DOCKER COMPOSE STACK                           │  │  
│  │                                                                       │  │  
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐   │  │  
│  │  │ SecureBank  │  │  StoreAPI   │  │   SQL       │  │   MailDev   │   │  │  
│  │  │   App       │  │             │  │  Server     │  │             │   │  │  
│  │  │ Port: 1337  │  │ Port: 1338  │  │ Port: 1433  │  │ Port: 1080  │   │  │  
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘   │  │  
│  │                                                                       │  │  
│  │  ┌─────────────┐                                                      │  │  
│  │  │ SQL Server  │                                                      │  │  
│  │  │ Secondary   │                                                      │  │  
│  │  │ Port: 1434  │                                                      │  │  
│  │  └─────────────┘                                                      │  │  
│  └───────────────────────────────────────────────────────────────────────┘  |
└─────────────────────────────────────────────────────────────────────────────┘</div>

                <h3>2.2 Flux de Données Sécurisés</h3>
                
                <h4>Flux d'Authentification</h4>
                <div class="architecture-diagram">
┌─────────┐    HTTPS    ┌──────────┐    HTTP     ┌─────────────┐    ┌─────────────┐
│ Client  │ ──────────→ │ HAProxy  │ ──────────→ │ SecureBank  │ ──→│ SQL Server  │
│ Browser │             │ (SSL/TLS)│             │   App       │    │   Database  │
└─────────┘             └──────────┘             └─────────────┘    └─────────────┘
     │                        │                        │                    │
     │                        │                        │                    │
     ▼                        ▼                        ▼                    ▼
Validation              Headers Sec              Session Mgmt         Encryption
     │                        │                        │                    │
     │                        │                        │                    │
     └────────────────────────┼────────────────────────┼────────────────────┘
                              │                        │
                              ▼                        ▼
                        Rate Limiting            Cookie Creation
                              │                        │
                              ▼                        ▼
                        WAF Protection           Hash Generation</div>

                <h3>2.3 Composants Sécurisés</h3>
                
                <h4>HAProxy (Reverse Proxy)</h4>
                <ul>
                    <li><strong>SSL/TLS Termination</strong> : Certificats CFSSL</li>
                    <li><strong>Rate Limiting</strong> : Protection contre les attaques DDoS</li>
                </ul>

                <h4>CFSSL (PKI)</h4>
                <ul>
                    <li><strong>Certificats auto-signés</strong></li>
                    <li><strong>CA Root + Intermediate</strong> : Hiérarchie PKI complète</li>
                    <li><strong>API</strong> : Génération de certificats dynamique</li>
                </ul>

                <h4>Base de Données</h4>
                <ul>
                    <li><strong>Réplication</strong> : Instance primaire + secondaire</li>
                    <li><strong>Backup automatique</strong> : Sauvegarde toutes les 30 secondes</li>
                    <li><strong>Isolation réseau</strong> : Conteneurs Docker isolés</li>
                </ul>
            </section>

            <section id="choix-technologiques" class="section">
                <h2>3. Choix Technologiques</h2>
                
                <h3>3.1 Virtualisation vs Conteneurisation</h3>
                
                <h4>Services en VMs (Vagrant)</h4>
                <table class="tech-table">
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Technologie</th>
                            <th>Justification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>NTP Server</strong></td>
                            <td>VM Ubuntu</td>
                            <td>Isolation complète, sécurité temporelle</td>
                        </tr>
                        <tr>
                            <td><strong>PKI Server</strong></td>
                            <td>VM Ubuntu</td>
                            <td>Gestion des certificats, isolation critique</td>
                        </tr>
                        <tr>
                            <td><strong>HAProxy</strong></td>
                            <td>VM Ubuntu</td>
                            <td>Reverse proxy, sécurité périmétrique</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight">
                    <strong>Avantages VMs :</strong> Isolation complète des ressources, Sécurité renforcée (hyperviseur), Gestion indépendante des OS, Conformité réglementaire
                </div>

                <h4>Services en Conteneurs (Docker)</h4>
                <table class="tech-table">
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Technologie</th>
                            <th>Justification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>SecureBank App</strong></td>
                            <td>Docker</td>
                            <td>Déploiement rapide, scalabilité</td>
                        </tr>
                        <tr>
                            <td><strong>StoreAPI</strong></td>
                            <td>Docker</td>
                            <td>Microservices, isolation logique</td>
                        </tr>
                        <tr>
                            <td><strong>SQL Server</strong></td>
                            <td>Docker</td>
                            <td>Gestion des données, réplication</td>
                        </tr>
                        <tr>
                            <td><strong>MailDev</strong></td>
                            <td>Docker</td>
                            <td>Service de développement</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight">
                    <strong>Avantages Conteneurs :</strong> Déploiement rapide et reproductible, Ressources partagées optimisées, Orchestration simplifiée, Versioning des applications
                </div>

                <h3>3.2 Stack Technologique</h3>
                
                <h4>Infrastructure</h4>
                <ul>
                    <li><strong>Vagrant</strong> : Provisioning des VMs</li>
                    <li><strong>Ansible</strong> : Configuration et déploiement</li>
                    <li><strong>Docker Compose</strong> : Orchestration des conteneurs</li>
                    <li><strong>HAProxy</strong> : Reverse proxy et load balancer</li>
                </ul>

                <h4>Sécurité</h4>
                <ul>
                    <li><strong>CFSSL</strong> : Infrastructure à clés publiques</li>
                    <li><strong>NTP</strong> : Synchronisation temporelle sécurisée</li>
                    <li><strong>Headers de sécurité</strong> : Protection contre les attaques web</li>
                    <li><strong>Logs centralisés</strong> : Audit et monitoring</li>
                </ul>

                <h4>Applications</h4>
                <ul>
                    <li><strong>ASP.NET Core</strong> : Framework d'application</li>
                    <li><strong>SQL Server</strong> : Base de données relationnelle</li>
                    <li><strong>MailDev</strong> : Serveur mail de développement</li>
                </ul>
            </section>

            <section id="plan-migration" class="section">
                <h2>4. Plan de Migration</h2>
                
                <div class="phase">
                    <h4>Phase 1 : Préparation (Semaine 1)</h4>
                    <ul>
                        <li><strong>Audit de sécurité</strong> de l'application existante</li>
                        <li><strong>Documentation</strong> des vulnérabilités identifiées</li>
                        <li><strong>Planification</strong> de l'infrastructure sécurisée</li>
                        <li><strong>Formation</strong> de l'équipe aux nouvelles technologies</li>
                    </ul>
                    <div class="highlight">
                        <strong>Risque :</strong> Résistance au changement<br>
                        <strong>Mesure :</strong> Formation et communication
                    </div>
                </div>

                <div class="phase">
                    <h4>Phase 2 : Infrastructure (Semaine 2-3)</h4>
                    <ul>
                        <li><strong>Déploiement</strong> des VMs avec Vagrant</li>
                        <li><strong>Configuration</strong> de la PKI CFSSL</li>
                        <li><strong>Installation</strong> d'HAProxy avec SSL/TLS</li>
                        <li><strong>Mise en place</strong> de la réplication de base de données</li>
                    </ul>
                    <div class="highlight">
                        <strong>Risque :</strong> Problèmes de compatibilité<br>
                        <strong>Mesure :</strong> Tests en environnement de développement
                    </div>
                </div>

                <div class="phase">
                    <h4>Phase 3 : Applications (Semaine 4)</h4>
                    <ul>
                        <li><strong>Containerisation</strong> des applications</li>
                        <li><strong>Configuration</strong> des variables d'environnement</li>
                        <li><strong>Tests</strong> de sécurité et de performance</li>
                        <li><strong>Documentation</strong> des procédures</li>
                    </ul>
                    <div class="highlight">
                        <strong>Risque :</strong> Perte de données pendant la migration<br>
                        <strong>Mesure :</strong> Sauvegardes complètes et tests de restauration
                    </div>
                </div>

                <div class="phase">
                    <h4>Phase 4 : Validation (Semaine 5)</h4>
                    <ul>
                        <li><strong>Tests de pénétration</strong> complets</li>
                        <li><strong>Audit de conformité</strong> (RGPD, PCI DSS)</li>
                        <li><strong>Formation</strong> des utilisateurs finaux</li>
                        <li><strong>Mise en production</strong> progressive</li>
                    </ul>
                    <div class="highlight">
                        <strong>Risque :</strong> Découverte de vulnérabilités critiques<br>
                        <strong>Mesure :</strong> Plan de rollback et équipe de support 24/7
                    </div>
                </div>

                <h3>4.2 Mesures de Contingence</h3>
                
                <h4>Plan de Rollback</h4>
                <ul>
                    <li><strong>Sauvegardes</strong> : Automatiques toutes les heures</li>
                    <li><strong>Documentation</strong> : Procédures de restauration</li>
                    <li><strong>Équipe</strong> : Support technique disponible</li>
                </ul>

                <h4>Monitoring</h4>
                <ul>
                    <li><strong>Logs</strong> : Centralisés et analysés</li>
                    <li><strong>Alertes</strong> : Notifications automatiques</li>
                    <li><strong>Métriques</strong> : Performance et sécurité</li>
                </ul>
            </section>


        </main>

        <footer class="footer">
            <p style="margin-top: 1rem; font-size: 0.9em; color: #666;">© 2025 Harouna & Khizar - Tous droits réservés</p>
        </footer>
    </div>
</body>
</html> 